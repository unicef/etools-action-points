<!--import [polymer/polymer-element, pages-header-element, search-and-filter, etools-data-table, paper-card]-->

<dom-module id="action-points-list">
    <template>
        <!-- inject styles './action-points-list.scss'-->
        <pages-header-element
                hide-print-button
                link="/action-points/new"
                show-add-button="{{_showAddButton()}}"
                btn-text="Add Action Point"
                page-title="Action Points">
        </pages-header-element>
        <search-and-filter></search-and-filter>
        <paper-card class="horizontal layout center">
            <etools-data-table-header id="listHeader"
                                      label="[[visibleRange.0]]-[[visibleRange.1]] of [[totalResults]] results to show">
                <etools-data-table-column class="col-2" field="number" sortable>
                    Action Point #
                </etools-data-table-column>
                <etools-data-table-column class="col-2" field="module" sortable>
                    Module
                </etools-data-table-column>
                <etools-data-table-column class="col-2" field="description" sortable>
                    Description
                </etools-data-table-column>
                <etools-data-table-column class="col-2" field="assigned_to" sortable>
                    Assigned To
                </etools-data-table-column>
                <etools-data-table-column class="col-2" field="due_date" sortable>
                    Due Date
                </etools-data-table-column>
                <etools-data-table-column class="col-2" field="partner" sortable>
                    Partner
                </etools-data-table-column>
                <etools-data-table-column class="col-2" field="location" sortable>
                    Location
                </etools-data-table-column>
                <etools-data-table-column class="col-2" field="section" sortable>
                    Section
                </etools-data-table-column>
                <etools-data-table-column class="col-2" field="status" sortable>
                    Status
                </etools-data-table-column>
            </etools-data-table-header>

            <template id="rows" is="dom-repeat" items="[[actionPoints]]" as="entry">
                <etools-data-table-row details-opened="[[detailsOpened]]">
                    <div slot="row-data">
                        <span class="col-data">[[entry.number]]</span>
                        <span class="col-data">[[entry.module]]</span>
                        <span class="col-data">[[entry.description]]</span>
                        <span class="col-data">[[entry.assigned_to]]</span>
                        <span class="col-data">[[entry.due_date]]</span>
                        <span class="col-data">[[entry.partner]]</span>
                        <span class="col-data">[[entry.location]]</span>
                        <span class="col-data">[[entry.section]]</span>
                        <span class="col-data">[[entry.status]]</span>
                    </div>
                    <div slot="row-data-details">
                        <div class="row-details-content">
                            <span class="rdc-title">Assigned By</span>
                            <span>[[entry.assigned_by]]</span>
                        </div>
                        <div class="row-details-content">
                            <span class="rdc-title">CP Output</span>
                            <span>[[entry.cp_output]]</span>
                        </div>
                        <div class="row-details-content">
                            <span class="rdc-title">PD/SSFA</span>
                            <span>[[entry.pd_ssfa]]</span>
                        </div>
                        <div class="row-details-content">
                            <span class="rdc-title">Completed Date</span>
                            <span>[[entry.completed_date]]</span>
                        </div>
                    </div>
                </etools-data-table-row>
            </template>

            <etools-data-table-footer
                    page-size="[[pageSize]]"
                    page-number="[[pageNumber]]"
                    total-results="[[totalResults]]"
                    visible-range="{{visibleRange}}"
                    on-page-size-changed="_pageSizeSelected"
                    on-page-number-changed="_pageNumberChanged">
            </etools-data-table-footer>
        </paper-card>
    </template>
    <!-- inject scripts './action-points-list.js' -->
</dom-module>